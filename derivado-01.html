<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="icon" href="favicon.ico" type="image/x-icon">

        <!-- Jodit CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jodit/build/jodit.min.css">
        
        <title>Despachos PF</title>
        
        <style>
            
            html, body {
                height: 100%; /* Garante que a altura total seja ocupada */
                margin: 0; /* Remove margens externas */
            }

            body {
                display: flex;
                flex-direction: column; /* Organiza o layout em coluna */

                background-color: #f8f9fa;
                font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

                min-width: 500px;
            }

            main {
                flex: 1; /* Faz o conteúdo principal ocupar o espaço disponível */
            }
            
            .siccau-color{
                background-color: #006f78;

            }

            .dropdown-item:hover {
                background-color: #787800;

            }


            .nav-link {
                color: #ffffffe7  !important;     

            }

            .nav-link:hover {
                color: #ffffff83  !important;

            }

            .btn-custom {
                background-color: #44546A;
                color: #ffffffe7;
                width: 135px;
            }

            
            .btn-custom:hover {
                background-color:#37475c;
                color: #ffffff;
            }

            .atv_custom:hover {
                background-color: #f0f0f0cd !important;
            }


            .atv_select {
                background-color: #f0f0f0cd !important;

            }

            .atv_custom {
                font-size: 0.9em ;

            }

        </style>

    </head>

    <body>
            
        <!--------------------------------------- nav superior ---------------------------------------->

        <nav class="navbar navbar-expand-lg navbar-dark siccau-color">

            <!-- brand -->
            <a href="#" class="mr-3"><img src="logo.png" width="233" height="75" alt="Início" class="img-fluid"></a>
            <a class="navbar-brand fa-lg pt-3 pb-3" href="">Despachos PF</a>

            <!-- collapse button -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#conteudoNavbarSuportado" >
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="conteudoNavbarSuportado">
                <ul class="navbar-nav ">

                    <!-- links demais páginas -->
                    <ul class="navbar-nav flex-wrap">
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://acesso.caubr.gov.br/", target="_blank">SICCAU</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://conselhoarquitetura.sharepoint.com/:x:/r/sites/Tcnica-PF/_layouts/15/Doc.aspx?sourcedoc=%7BE9C33855-F6C5-4558-A324-D925A0E63F93%7D&file=Despachos.xlsx&action=default&mobileredirect=true" target="_blank">Despachos</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://conselhoarquitetura.sharepoint.com/:x:/r/sites/CAUSP-DRIVE/_layouts/15/Doc.aspx?sourcedoc=%7BA315911C-C43C-49D4-9B2C-47E613E30E1F%7D&file=EVENTOS%20RELEVANTES%20PJ.xlsx&action=default&mobileredirect=true", target="_blank">Histórico de Eventos</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://n-tech4b.github.io/despachos-pj/relatorio_1_tri_2023", target="_blank">Relatório</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://n-tech4b.github.io/despachos-pj/piso-semanal", target="_blank">Calculadora Piso</a>
                        </li>

                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://transparencia.caubr.gov.br/resolucoes/" target="_blank">Resoluções</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://conselhoarquitetura.sharepoint.com/:f:/r/sites/Tcnica-PF/Documentos%20Compartilhados/General/Manual%20-%20Supervis%C3%A3o%20de%20Pessoa%20F%C3%ADsica?csf=1&web=1&e=3BsCAt" target="_blank">Manuais</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://conselhoarquitetura.sharepoint.com/:f:/r/sites/Tcnica-PF/Documentos%20Compartilhados/General?csf=1&web=1&e=Tw83pb" target="_blank">Drive</a>
                        </li>
                        <li class="nav-item align-items-center justify-content-center">
                            <a class="nav-link" href="https://servicos.caubr.gov.br/helpdesk/doku.php" target="_blank">Tutorias (Helpdesk)</a>                  
                        </li>
                    </ul>
                </ul>
            </div>
        </nav>
  
        <!--------------------------------------- area elaboração do despacho ---------------------------------------->

        <main>
            <div class="container-fluid my-4 text-center">

                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  style="background-color:#2b3a4d;" onclick="RedirecionarRRTs()">RRTs</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"   onclick="RedirecionarCAT()">CAT-A</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"   onclick="RedirecionarRDA()">RDA</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarStatusRRT()">STATUS RRT</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarInterrupcao()">INTERRUPÇÃO</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarProtocolos()">PROTOCOLOS</button>
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarEmail()">E-MAIL</button>
                <!-- <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarDespachosGerais()">+ DESPACHOS</button> -->
                <button class="btn btn-secondary btn-custom m-1 px-3 py-1 d-inline"  onclick="RedirecionarSICCAU()">SICCAU</button>

            </div>

            <hr>

            <div class="container-fluid">
                <div class="row">
                    <!-- Left Sidebar -->
                    <div class="col-md-2 px-2 mb-4">
                        <div class="list-group">

                            <div class="row d-flex align-items-center mx-0">
                                <h5 class="m-0 mt-2 mb-3 mr-2">RRT Extemporâneo:</h5>
                            </div>

                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="index" href="index.html">RRT Aprovado</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-02" href="rrts-02.html">RRT Aprovado (Retificador)</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-03" href="rrts-03.html">RRT Aprovado - Atestado Não Aprova na CAT-A</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-04" href="rrts-04.html">Dados Divergentes</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-05" href="rrts-05.html">Falta Documento</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-06" href="rrts-06.html">Falta Documentos de Cargo e Função</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-07" href="rrts-07.html">Falta Assinatura</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-08" href="rrts-08.html">Erro no Arquivo</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-09" href="rrts-09.html">Situação de Emergência</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-10" href="rrts-10.html">Atividade Não Contemplada</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-11" href="rrts-11.html">Mais de um Endereço</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-12" href="rrts-12.html">Atividade de Regularização</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-13" href="rrts-13.html">Outro responsável Técnico</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-14" href="rrts-14.html">Múltiplo Mensal</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-15" href="rrts-15.html">Cargo e Função - Não atende Salário Mínimo</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-16" href="rrts-16.html">RRT Social que Não Parece Social</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="rrts-17" href="rrts-17.html">Endereço Divergente</a>
                        
                        </div>
                    </div>

                    <!-- Main Section -->
                    <div class="col-md-8 px-2">
                        <div class="container-fluid px-0">
                            
            
                            <div class="row d-flex mb-2 align-items-center mx-0 ">
                                
                                <h5 class="m-0 mr-2">Despacho:</h5>
                            
                                <div class="btn-group btn-group-toggle P-0" data-toggle=""> 
                                    <!-- btn-group-toggle -->

                                    <label class="btn btn-info active">
                                        <input type="radio" name="options" id="option0" autocomplete="off"> 00
                                    </label>

                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option1" autocomplete="off"> 01
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option2" autocomplete="off"> 02
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option3" autocomplete="off"> 03
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option4" autocomplete="off"> 04
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option5" autocomplete="off"> 05
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option6" autocomplete="off"> 06
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option7" autocomplete="off"> 07
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option8" autocomplete="off"> 08
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option9" autocomplete="off"> 09
                                    </label>
                                    <label class="btn btn-info">
                                        <input type="radio" name="options" id="option10" autocomplete="off"> 10
                                    </label>

                                </div>
                            </div>
 

                            <textarea id="despacho" class="form-control mb-3" rows="10" placeholder="Digite sua mensagem aqui...">
<div><span><span id="intro_despacho_causp">D </span><span id="n_despacho_causp">00</span></span></div>
<br>

<div>RRT Nº XXXXXXXXXX</div>
<br>

<div>Olá,</div>
<br>

<div>Seu <strong>RRT foi aprovado.</strong> A veracidade das informações no RRT é de responsabilidade do(a) arquiteto(a) e urbanista.</div>
<br>

<div>
    📌 O RRT já se encontra <strong>registrado</strong> e poderá ser impresso.
</div>
<br>

<div>
    Se tiver intenção de emitir uma <strong>CAT-A</strong>, consulte a <a href="https://transparencia.caubr.gov.br/resolucao93/" target="_blank">Resolução CAU/BR Nº 93/2014</a> e nosso <a href="https://causp.gov.br/wp-content/uploads/2025/02/CAT-A.pdf" target="_blank">Manual de CAT-A</a>.
</div>
<br>

<div>
    Dúvidas? Acesse o <a href="https://causp.gov.br/atendimento/" target="_blank"><strong>Canal de Atendimento</strong></a> do CAU/SP.<br>
</div><br><br>

<div>Atenciosamente,</div>
<div>Coordenação Técnica do Exercício Profissional – CAU/SP</div>
</textarea>

                            <div class="mt-3 mb-4  text-center">
                                <button class="btn btn-primary d-inline m-1" style="width: 90px" id="updateButton">Atualizar</button>
                                <button class="btn btn-success d-inline m-1 " style="width: 90px" id="copyButton">Copiar</button>
                            </div>
                            
                        </div>
                    </div>

                    <!-- Right Sidebar -->
                    <div class="col-md-2 px-2 mb-4">

                        <div class="list-group rounded mb-3">
                            <div class="row d-flex align-items-center mx-0">
                                <h5 class="m-0 mt-2 mb-3 mr-2">RRT Exterior:</h5>
                            </div>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-01" href="exterior-01.html">Aprovado</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-02" href="exterior-02.html">Aprovado Retificador</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-03" href="exterior-03.html">Sem Documentos</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-04" href="exterior-04.html">Sem Tradução</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-05" href="exterior-05.html">Emitido por Engano</a>
                            <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-06" href="exterior-06.html">Dados Divergentes</a>            
                        </div>

                        <div class="row d-flex align-items-center mx-0">
                            <h5 class="m-0 mt-2 mb-3 mr-2">RRT Derivado:</h5>
                        </div>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-01" href="derivado-01.html" style="background-color: #2b3a4d !important; color: #fff;">Derivado Aprovado</a>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-02" href="derivado-02.html">Falta ART</a>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-03" href="derivado-03.html">Reficador</a>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-04" href="derivado-04.html">Dados Divergentes</a>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-05" href="derivado-05.html">Dados Divergentes (Retificador)</a>
                        <a class="list-group-item list-group-item-action atv_custom px-2 py-2" id="exterior-06" href="derivado-06.html">Derivado Aprovado - Atestado Não Aprova na CAT-A</a>  

                    </div>

                    </div>
                    
                </div>
            </div>

        </main>

        <!--------------------------------------- footer  ---------------------------------------->

        <footer class="siccau-color text-light d-flex align-items-center justify-content-center py-2 mt-3">
            <p class="m-1">Equipe de Coordenação Técnica de Exercício Profissional - CAU/SP</p>
        </footer>
        
    
        <!-- JavaScript (Opcional) -->
        <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        
        <!-- Inclua o script principal do Jodit -->
        <script src="https://cdn.jsdelivr.net/npm/jodit/build/jodit.min.js"></script>

        <!-- Inicializando o editor -->

        <script>

            // var despacho = new Jodit('#despacho', {
            //     // Configurações do editor
            //     minHeight: 300,
            //     buttons: [
            //         'undo', 'redo', '|', 
            //         'bold', 'italic', 'underline', 'strikethrough', '|', 
            //         'align', 'outdent', 'indent', '|',
            //         'ul', 'ol', '|',
            //         'font', 'fontsize', 'brush', '|',
            //         'table', 'link', 'image', '|',
            //         'print', 'source', 'hr', 'removeformat'
            
            //     ]
            // });

            var despacho = new Jodit('#despacho', {
                "uploader": {
                "insertImageAsBase64URI": true
                },
                // Configurações do editor
                language: 'pt_br', // Define o idioma como português
                maxHeight: 650,
                enter: "br",
                spellcheck: true,
                showXPathInStatusbar: false,
                askBeforePasteHTML: true,
                askBeforePasteFromWord: false,
                buttons: [
                    'undo', 'redo', '|',
                    'font','fontsize', 'eraser', '|',
                    'bold', 'italic', 'underline', 'strikethrough', 
                    'superscript', 'subscript', 'brush', '|',
                    'ul', 'ol', 
                    //'indent', 'outdent', 'align', 'lineHeight', 
                    'paragraph', '|',
                    'table', 'hr', 'symbols', '|',
                    // 'classSpan', '|',
                    // 'file', 
                    'link', 'image', 'video', '|',
                    // 'cut', 'copy', 'paste', 
                    // 'copyformat', '|',
                    // 'ai-commands', 'ai-assistant', '|',
                    'find', 'spellcheck', 
                    //'selectall', 'copy', 
                    'preview', 'print', 'fullsize', 
                    // 'about'
                ]
                ,
                style: {
                fontSize: '14px'
                },

            });

        </script>

        <script>

        document.getElementById('copyButton').addEventListener('click', function () {
            // Obtém o conteúdo da área de texto
            var content = despacho.value;

            // Cria um contêiner temporário para manipular o HTML
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;

            // Seleciona todas as células de tabela (<td>) e adiciona o estilo de borda
            var cells = tempDiv.querySelectorAll('td');
            cells.forEach(function(cell) {
                cell.style.border = '1px solid'; // Adiciona uma borda preta de 1px
            });

            // Remove espaços e quebras de linha desnecessárias (compacta o texto)
            var compactedContent = tempDiv.innerHTML
                .replace(/\s+/g, ' ')          // Substitui múltiplos espaços por um único
                .replace(/>\s+</g, '><');     // Remove espaços entre tags HTML

            // Remove os trechos de <span> indesejados
                var cleanedContent = compactedContent
                .replace(/<span><span id="intro_despacho_causp">/g, '') // Remove a abertura específica
                .replace(/<\/span><span id="n_despacho_causp">/g, '') // Remove a combinação específica
                .replace(/<\/span><\/span>/g, ''); // Remove a combinação de fechamento

            // Substitui <br> por <br>\n para exibição formatada
            var formattedContent = cleanedContent.replace(/<br\s*\/?>/gi, '<br>\n');

            // Remove espaços repetidos e espaços antes ou depois de quebras de linha
            formattedContent = formattedContent
                .replace(/[ \t]+/g, ' ')       // Remove múltiplos espaços ou tabulações
                .replace(/(\n)[ ]+/g, '$1')   // Remove espaços após \n
                .replace(/[ ]+(\n)/g, '$1')   // Remove espaços antes de \n
                .trim();                       // Remove espaços extras no início e no final do texto

            // Cria um elemento textarea temporário para copiar o conteúdo formatado
            var tempTextArea = document.createElement('textarea');
            tempTextArea.value = formattedContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            console.log('Texto copiado (compactado e formatado):', formattedContent);
        });


        document.getElementById('updateButton').addEventListener('click', function() {
            location.reload(); // Esta linha recarrega a página
        });


        function RedirecionarRRTs() {
            window.open('index.html', '_self');
        }

        function RedirecionarCAT() {
            window.open('cat-01.html', '_self');
        }

        function RedirecionarRDA() {
            window.open('rda-01.html', '_self');
        }
        function RedirecionarStatusRRT() {
            window.open('status-01.html', '_self');
        }
        function RedirecionarInterrupcao() {
            window.open('interrupcao-01.html', '_self');
        }
        function RedirecionarProtocolos() {
            window.open('protocolos-01.html', '_self');
        }
        function RedirecionarEmail() {
            window.open('email-01.html', '_self');
        }
        function RedirecionarSICCAU() {
            window.open('siccau-01.html', '_self');
        }

        document.addEventListener("DOMContentLoaded", function() {
            // Seleciona todos os inputs do tipo rádio
            const radioButtons = document.querySelectorAll('input[type="radio"][name="options"]');
            const labels = document.querySelectorAll('label.btn');

            // Função para ser chamada quando um rádio for clicado
            function handleRadioChange(event) {
                // Remover a classe 'active' de todos os botões
                labels.forEach(label => label.classList.remove('active'));

                // Adicionar a classe 'active' ao botão clicado
                event.target.parentElement.classList.add('active');

                // Obtém o número da opção clicada e formata com dois dígitos
                const selectedOption = event.target.id.replace('option', '').padStart(2, '0');
                
                // Altera o conteúdo do elemento com id "n_despacho_causp"
                document.getElementById('n_despacho_causp').innerText = selectedOption;

                console.log(`Você clicou na opção ${event.target.id}. O conteúdo de n_despacho_causp foi alterado para: ${selectedOption}`);
            }

            // Adiciona o evento de 'change' para cada botão de rádio
            radioButtons.forEach(button => {
                button.addEventListener('change', handleRadioChange);
            });
        });

        </script>  

    </body>
</html>
